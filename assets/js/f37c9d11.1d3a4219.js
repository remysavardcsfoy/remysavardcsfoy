"use strict";(self.webpackChunkreact=self.webpackChunkreact||[]).push([[1757],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>y});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),s=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},p=function(e){var t=s(e.components);return n.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=s(r),m=a,y=u["".concat(c,".").concat(m)]||u[m]||d[m]||i;return r?n.createElement(y,l(l({ref:t},p),{},{components:r})):n.createElement(y,l({ref:t},p))}));function y(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,l=new Array(i);l[0]=m;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o[u]="string"==typeof e?e:a,l[1]=o;for(var s=2;s<i;s++)l[s]=r[s];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},5615:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var n=r(7462),a=(r(7294),r(3905));const i={id:"A16-Security",title:"Security",sidebar_label:"Security",slug:"/security"},l=void 0,o={unversionedId:"A16-Security",id:"A16-Security",title:"Security",description:"Encoding",source:"@site/docs/A16-Security.md",sourceDirName:".",slug:"/security",permalink:"/docs/security",draft:!1,tags:[],version:"current",frontMatter:{id:"A16-Security",title:"Security",sidebar_label:"Security",slug:"/security"}},c={},s=[{value:"Encoding",id:"encoding",level:2},{value:"Handled by Users",id:"handled-by-users",level:2},{value:"What to look for in a Code Review",id:"what-to-look-for-in-a-code-review",level:2},{value:"Reference",id:"reference",level:2}],p={toc:s},u="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(u,(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"encoding"},"Encoding"),(0,a.kt)("p",null,"React ",(0,a.kt)("strong",{parentName:"p"},"by default encodes almost all data values")," when creating DOM elements."),(0,a.kt)("p",null,"To provide users with an ",(0,a.kt)("strong",{parentName:"p"},"escape hatc"),"h to insert HTML content into the DOM, React is equipped with the eloquently-named function ",(0,a.kt)("inlineCode",{parentName:"p"},"dangerouslySetInnerHTML()"),", clearly conveying the dangers of using it."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"DON'T: Use the method ",(0,a.kt)("inlineCode",{parentName:"p"},"dangerouslySetInnerHTML()"))),(0,a.kt)("h2",{id:"handled-by-users"},"Handled by Users"),(0,a.kt)("p",null,"Contexts that are ",(0,a.kt)("em",{parentName:"p"},"unattended by the React security model")," and are ",(0,a.kt)("strong",{parentName:"p"},"handled by the user"),"s include creating:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"HTML anchor (link) elements with user- provided input as the source for the href attribute value."),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"This ",(0,a.kt)("strong",{parentName:"p"},"mostly applies")," to versions ",(0,a.kt)("strong",{parentName:"p"},"prior to")," the recently released ",(0,a.kt)("inlineCode",{parentName:"p"},"React v16.9")," which mitigates javascript:-based URLs in href attribute values and other contexts such as form actions, iFrame sources, and others."),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-html"},"data:text/html,\n<a href=\"javascript: alert('hello from javascript!')\">click me</a>\n"))))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"React components from user-provided input")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"React\u2019s server-side rendering could potentially introduce XSS vulnerabilities if malicious user input is injected as-is to a JavaScript context without being properly encoded or sanitized."),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},'let data = {\nusername: "pwned",\nbio: "<\/script><script>alert(\'XSS Vulnerability!\')<\/script>"\n}\n\n<script>window.__STATE__ = ${JSON.stringify({ data })}<\/script>\n\n')))),(0,a.kt)("h2",{id:"what-to-look-for-in-a-code-review"},"What to look for in a Code Review"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Look for ",(0,a.kt)("inlineCode",{parentName:"p"},"dangerouslySetInnerHTML")," being called.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Can users add links that other users may click on? If so, try adding a \u2018link\u2019 like this:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},"javascript: alert('You are vulnerable to XSS!');\n")),(0,a.kt)("p",{parentName:"li"},"If the alert pops up on the page, you have an XSS vulnerability. Try everywhere these custom links are loaded. Most likely, not every instance will be vulnerable.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Look for ",(0,a.kt)("inlineCode",{parentName:"p"},"JSON.stringify()")," being called with a variable that may have un-trusted data inside a ",(0,a.kt)("inlineCode",{parentName:"p"},"script")," tag."))),(0,a.kt)("h2",{id:"reference"},"Reference"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://snyk.io/node-js/react"},"React Vulnerabilities")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://medium.com/node-security/the-most-common-xss-vulnerability-in-react-js-applications-2bdffbcc1fa0"},"The Most Common XSS Vulnerability in React.js Applications")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://hunter2.com/3-security-pitfalls-every-react-developer-should-know"},"3 Security Pitfalls Every React Developer Should Know")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://snyk.io/blog/comparing-react-and-angular-secure-coding-practices/"},"Comparing React and Angular secure coding practices"))))}d.isMDXComponent=!0}}]);