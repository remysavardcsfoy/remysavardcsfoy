"use strict";(self.webpackChunkreact=self.webpackChunkreact||[]).push([[6951],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>m});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),i=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},l=function(e){var t=i(e.components);return r.createElement(p.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},E=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=i(n),E=a,m=u["".concat(p,".").concat(E)]||u[E]||d[E]||o;return n?r.createElement(m,c(c({ref:t},l),{},{components:n})):r.createElement(m,c({ref:t},l))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,c=new Array(o);c[0]=E;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[u]="string"==typeof e?e:a,c[1]=s;for(var i=2;i<o;i++)c[i]=n[i];return r.createElement.apply(null,c)}return r.createElement.apply(null,n)}E.displayName="MDXCreateElement"},9818:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>c,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>i});var r=n(7462),a=(n(7294),n(3905));const o={id:"A12-ReduxTypeScript",title:"Redux & TypeScript",sidebar_label:"Redux & TypeScript",slug:"/redux-typescript"},c=void 0,s={unversionedId:"A12-ReduxTypeScript",id:"A12-ReduxTypeScript",title:"Redux & TypeScript",description:"Benefits",source:"@site/docs/A12-ReduxTypeScript.md",sourceDirName:".",slug:"/redux-typescript",permalink:"/docs/redux-typescript",draft:!1,tags:[],version:"current",frontMatter:{id:"A12-ReduxTypeScript",title:"Redux & TypeScript",sidebar_label:"Redux & TypeScript",slug:"/redux-typescript"}},p={},i=[{value:"Benefits",id:"benefits",level:2},{value:"Installing",id:"installing",level:2},{value:"Usage",id:"usage",level:2},{value:"State",id:"state",level:2},{value:"Actions &amp; Action Creators",id:"actions--action-creators",level:2},{value:"Reducers",id:"reducers",level:2},{value:"Connect (React Redux)",id:"connect-react-redux",level:2},{value:"Redux Thunk",id:"redux-thunk",level:2},{value:"Reference",id:"reference",level:2}],l={toc:i},u="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,r.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"benefits"},"Benefits"),(0,a.kt)("p",null,"TypeScript has the potential to bring the following benefits to a Redux application:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Type safety for reducers, state and action creators"),(0,a.kt)("li",{parentName:"ol"},"Easy refactoring of typed code"),(0,a.kt)("li",{parentName:"ol"},"A superior developer experience in a team environment")),(0,a.kt)("h2",{id:"installing"},"Installing"),(0,a.kt)("p",null,"To get all the benefits of types you should install the type definition file for the React Redux library. The other libraries (Redux and Redux Thunk) install with their type definitions and React Redux will likely do the same in the near future."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"npm install --save-dev @types/react-redux\n")),(0,a.kt)("h2",{id:"usage"},"Usage"),(0,a.kt)("p",null,"Each of the following sections demonstrates how TypeScript can be used with the various parts of Redux."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("a",{parentName:"p",href:"https://github.com/craigmckeachie/r16_hello-redux"},"Click here for the full source code for a small but complete example of Redux being used with TypeScript"),".")),(0,a.kt)("h2",{id:"state"},"State"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"export interface StoreState {\n  name: string;\n  enthusiasmLevel: number;\n}\n")),(0,a.kt)("p",null,"or"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"export interface ProjectState {\n  loading: boolean;\n  projects: Project[];\n  error: string | undefined;\n  page: number;\n}\n\nexport interface AppState {\n  projectState: ProjectState;\n}\n")),(0,a.kt)("h2",{id:"actions--action-creators"},"Actions & Action Creators"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"export const INCREMENT_ENTHUSIASM = 'INCREMENT_ENTHUSIASM';\nexport type INCREMENT_ENTHUSIASM = typeof INCREMENT_ENTHUSIASM;\n\nexport interface IncrementEnthusiasm {\n  type: INCREMENT_ENTHUSIASM;\n}\n\nexport type EnthusiasmAction = IncrementEnthusiasm | DecrementEnthusiasm;\n\nexport function incrementEnthusiasm(): IncrementEnthusiasm {\n  return {\n    type: INCREMENT_ENTHUSIASM,\n  };\n}\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"export const LOAD_PROJECTS_REQUEST = 'LOAD_PROJECTS_REQUEST';\nexport const LOAD_PROJECTS_SUCCESS = 'LOAD_PROJECTS_SUCCESS';\nexport const LOAD_PROJECTS_FAILURE = 'LOAD_PROJECTS_FAILURE';\nexport const SAVE_PROJECT_REQUEST = 'SAVE_PROJECT_REQUEST';\nexport const SAVE_PROJECT_SUCCESS = 'SAVE_PROJECT_SUCCESS';\nexport const SAVE_PROJECT_FAILURE = 'SAVE_PROJECT_FAILURE';\nexport const DELETE_PROJECT_REQUEST = 'DELETE_PROJECT_REQUEST';\nexport const DELETE_PROJECT_SUCCESS = 'DELETE_PROJECT_SUCCESS';\nexport const DELETE_PROJECT_FAILURE = 'DELETE_PROJECT_FAILURE';\n\ninterface LoadProjectsRequest {\n  type: typeof LOAD_PROJECTS_REQUEST;\n}\n\ninterface LoadProjectsSuccess {\n  type: typeof LOAD_PROJECTS_SUCCESS;\n  payload: { projects: Project[]; page: number };\n}\n\ninterface LoadProjectsFailure {\n  type: typeof LOAD_PROJECTS_FAILURE;\n  payload: { message: string };\n}\n...\nexport type ProjectActionTypes =\n  | LoadProjectsRequest\n  | LoadProjectsSuccess\n  | LoadProjectsFailure\n  | SaveProjectRequest\n  | SaveProjectSuccess\n  | SaveProjectFailure\n  | DeleteProjectRequest\n  | DeleteProjectSuccess\n  | DeleteProjectFailure;\n\n\n")),(0,a.kt)("h2",{id:"reducers"},"Reducers"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"export function reducer(\n  state: StoreState = initialState,\n  action: EnthusiasmAction\n): StoreState {\n  switch (action.type) {\n    case INCREMENT_ENTHUSIASM:\n      return { ...state, enthusiasmLevel: state.enthusiasmLevel + 1 };\n    case DECREMENT_ENTHUSIASM:\n      return {\n        ...state,\n        enthusiasmLevel: Math.max(1, state.enthusiasmLevel - 1),\n      };\n  }\n  return state;\n}\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"export function projectReducer(\n  state = initialProjectState,\n  action: ProjectActionTypes\n) {\n  switch (action.type) {\n    case DELETE_PROJECT_REQUEST:\n      return { ...state };\n    case DELETE_PROJECT_SUCCESS:\n      return {\n        ...state,\n        projects: state.projects.filter(\n          (project: Project) => project.id !== action.payload.id\n        ),\n      };\n    case DELETE_PROJECT_FAILURE:\n      return { ...state, error: action.payload.message };\n    default:\n      return state;\n  }\n}\n")),(0,a.kt)("h2",{id:"connect-react-redux"},"Connect (React Redux)"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"export function mapStateToProps({ enthusiasmLevel, name }: StoreState) {\n  return {\n    enthusiasmLevel,\n    name,\n  };\n}\n\nexport function mapDispatchToProps(dispatch: Dispatch<EnthusiasmAction>) {\n  return {\n    onIncrement: () => dispatch(incrementEnthusiasm()),\n    onDecrement: () => dispatch(decrementEnthusiasm()),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Hello);\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"function mapStateToProps(state: AppState): ProjectState {\n  return {\n    ...state.projectState,\n  };\n}\n\nconst mapDispatchToProps = {\n  onLoad: loadProjects,\n  onSave: saveProject,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProjectsPage);\n")),(0,a.kt)("h2",{id:"redux-thunk"},"Redux Thunk"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"export function loadProjects(\n  page: number\n): ThunkAction<void, ProjectState, null, Action<string>> {\n  return (dispatch: any) => {\n    dispatch({ type: LOAD_PROJECTS_REQUEST });\n    return projectAPI\n      .get(page)\n      .then((data) => {\n        dispatch({\n          type: LOAD_PROJECTS_SUCCESS,\n          payload: { projects: data, page },\n        });\n      })\n      .catch((error) => {\n        dispatch({ type: LOAD_PROJECTS_FAILURE, payload: error });\n      });\n  };\n}\n")),(0,a.kt)("h2",{id:"reference"},"Reference"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://medium.com/@rossbulat/how-to-use-typescript-with-react-and-redux-a118b1e02b76"},"How to Use TypeScript with React & Redux")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/Microsoft/TypeScript-React-Starter#typescript-react-starter"},"Microsoft Tutorial on React & Redux using TypeScript")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://redux.js.org/recipes/usage-with-typescript"},"Redux with TypeScript")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://redux.js.org/recipes/usage-with-typescript#usage-with-redux-thunk"},"Redux Thunk with TypeScript"))))}d.isMDXComponent=!0}}]);