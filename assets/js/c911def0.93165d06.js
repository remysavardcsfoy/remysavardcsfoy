"use strict";(self.webpackChunkreact=self.webpackChunkreact||[]).push([[6208],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=u(n),d=a,f=c["".concat(l,".").concat(d)]||c[d]||m[d]||i;return n?r.createElement(f,o(o({ref:t},p),{},{components:n})):r.createElement(f,o({ref:t},p))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:a,o[1]=s;for(var u=2;u<i;u++)o[u]=n[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},426:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>u});var r=n(7462),a=(n(7294),n(3905));const i={title:"Lists",sidebar_label:"Lists",slug:"/lists"},o=void 0,s={unversionedId:"Lists",id:"Lists",title:"Lists",description:"Often the answer to the question of how do I do something in React can be answered by understanding how would you do it in JavaScript.",source:"@site/docs/11-Lists.md",sourceDirName:".",slug:"/lists",permalink:"/docs/lists",draft:!1,tags:[],version:"current",sidebarPosition:11,frontMatter:{title:"Lists",sidebar_label:"Lists",slug:"/lists"}},l={},u=[{value:"In Vanilla JavaScript",id:"in-vanilla-javascript",level:2},{value:"a. for loop",id:"a-for-loop",level:3},{value:"b. #array.forEach",id:"b-arrayforeach",level:3},{value:"c. #array.map",id:"c-arraymap",level:3},{value:"d. #array.map with arrow function",id:"d-arraymap-with-arrow-function",level:3},{value:"In React: Rendering Multiple Elements",id:"in-react-rendering-multiple-elements",level:2},{value:"In React: Rendering Multiple Components",id:"in-react-rendering-multiple-components",level:2},{value:"Keys",id:"keys",level:2},{value:"Adding Keys",id:"adding-keys",level:3},{value:"Where to put Keys",id:"where-to-put-keys",level:3},{value:"map() in JSX",id:"map-in-jsx",level:2},{value:"Reference",id:"reference",level:2}],p={toc:u},c="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(c,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Often the answer to the question of how do I do something in React can be answered by understanding how would you do it in JavaScript."),(0,a.kt)("h2",{id:"in-vanilla-javascript"},"In Vanilla JavaScript"),(0,a.kt)("p",null,"In JavaScript, the approach we use to loop through an ",(0,a.kt)("inlineCode",{parentName:"p"},"Array")," and transform the data in it has evolved to a more functional style of programming with the addition of:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"functions like ",(0,a.kt)("inlineCode",{parentName:"li"},"forEach")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"map")," to the Array in ES5"),(0,a.kt)("li",{parentName:"ul"},"the arrow function in ES6 (ES2015)")),(0,a.kt)("p",null,"Clear the code in ",(0,a.kt)("inlineCode",{parentName:"p"},"main.js")," and work through each example below to see the progression."),(0,a.kt)("h3",{id:"a-for-loop"},"a. for loop"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const numbers = [1, 2, 3, 4, 5];\nconst tens = [];\n\nfor (let index = 0; index < numbers.length; index++) {\n  const number = numbers[index];\n  tens.push(number * 10);\n}\n\nconsole.log(tens);\n")),(0,a.kt)("h3",{id:"b-arrayforeach"},"b. #array.forEach"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const numbers = [1, 2, 3, 4, 5];\nconst tens = [];\n\nnumbers.forEach(function (number) {\n  tens.push(number * 10);\n});\n\nconsole.log(tens);\n")),(0,a.kt)("h3",{id:"c-arraymap"},"c. #array.map"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const numbers = [1, 2, 3, 4, 5];\n\nconst tens = numbers.map(function (number) {\n  return number * 10;\n});\n\nconsole.log(tens);\n")),(0,a.kt)("h3",{id:"d-arraymap-with-arrow-function"},"d. #array.map with arrow function"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const numbers = [1, 2, 3, 4, 5];\nconst tens = numbers.map((number) => number * 10);\nconsole.log(tens);\n")),(0,a.kt)("h2",{id:"in-react-rendering-multiple-elements"},"In React: Rendering Multiple Elements"),(0,a.kt)("p",null,"We can use the Array's ",(0,a.kt)("inlineCode",{parentName:"p"},"map")," function to transform an array of data into an array of React elements and then render them as follows."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function FruitList(props) {\n  const fruitListItems = props.fruits.map((fruit) => (\n    <li key={fruit.id}>{fruit.name}</li>\n  ));\n  return <ul>{fruitListItems}</ul>;\n}\n\nconst data = [\n  { id: 1, name: 'apple' },\n  { id: 2, name: 'orange' },\n  { id: 3, name: 'blueberry' },\n  { id: 4, name: 'banana' },\n  { id: 5, name: 'kiwi' },\n];\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <FruitList fruits={data} />\n);\n")),(0,a.kt)("p",null,"Of course, you could do the above with more verbose code using a Array ",(0,a.kt)("inlineCode",{parentName:"p"},"forEach")," or a ",(0,a.kt)("inlineCode",{parentName:"p"},"for")," loop in JavaScript. I've included examples of each below. You will use mostly use the terser ",(0,a.kt)("inlineCode",{parentName:"p"},"map")," but it might help your understanding to see the following equivalent code examples."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function FruitList(props) {\n  const fruitListItems = [];\n  const fruits = props.fruits;\n  for (let index = 0; index < fruits.length; index++) {\n    const fruit = fruits[index];\n    const fruitListItem = <li key={fruit.id}>{fruit.name}</li>;\n    fruitListItems.push(fruitListItem);\n  }\n  return <ul>{fruitListItems}</ul>;\n}\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function FruitList(props) {\n  const fruitListItems = [];\n  props.fruits.forEach((fruit) => {\n    const fruitListItem = <li key={fruit.id}>{fruit.name}</li>;\n    fruitListItems.push(fruitListItem);\n  });\n  return <ul>{fruitListItems}</ul>;\n}\n")),(0,a.kt)("h2",{id:"in-react-rendering-multiple-components"},"In React: Rendering Multiple Components"),(0,a.kt)("p",null,"This same approach works with components as well."),(0,a.kt)("p",null,"In the example, below we extract each list item into an reusable component."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function FruitListItem(props) {\n  return <li>{props.fruit.name}</li>;\n}\n\nfunction FruitList(props) {\n  const fruitListItems = props.fruits.map((fruit) => (\n    <FruitListItem key={fruit.id} fruit={fruit} />\n  ));\n  return <ul>{fruitListItems}</ul>;\n}\n\nconst data = [\n  { id: 1, name: 'apple' },\n  { id: 2, name: 'orange' },\n  { id: 3, name: 'blueberry' },\n  { id: 4, name: 'banana' },\n  { id: 5, name: 'kiwi' },\n];\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <FruitList fruits={data} />\n);\n")),(0,a.kt)("h2",{id:"keys"},"Keys"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Remove the key property on the ",(0,a.kt)("inlineCode",{parentName:"li"},"FruitListItem")," as shown below:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-diff"},"  const fruitListItems = props.fruits.map(fruit => (\n    <FruitListItem\n-      key={fruit.id}\n      fruit={fruit} />\n  ));\n")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"Refresh the page and check the console"),(0,a.kt)("li",{parentName:"ol"},"You should see the following warning:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},'Warning: Each child in a list should have a unique "key" prop.\n')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Remember React has a Virtual representation of the DOM and strives to do as few DOM operations as possible when re-rendering. Adding a unique key to the list items allows React to efficiently re-render the UI.")),(0,a.kt)("h3",{id:"adding-keys"},"Adding Keys"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Add the key back")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-diff"},"  const fruitListItems = props.fruits.map(fruit => (\n    <FruitListItem\n+      key={fruit.id}\n      fruit={fruit} />\n  ));\n")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"Refresh the browser and the warning will no longer appear")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"The key need should be a stable unique identifier for the item in the list.")),(0,a.kt)("p",null,"When you don\u2019t have stable IDs for rendered items, you may use the item index as a key as a last resort:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function FruitList(props) {\n  const fruitListItems = props.fruits.map((fruit, index) => (\n    <FruitListItem key={index} fruit={fruit} />\n  ));\n  return <ul>{fruitListItems}</ul>;\n}\n")),(0,a.kt)("p",null,"It is not recommended to use indexes for keys if the order of items may change (add, remove, delete, or move items). If you choose not to assign an explicit key to list items then React will default to using indexes as keys."),(0,a.kt)("h3",{id:"where-to-put-keys"},"Where to put Keys"),(0,a.kt)("p",null,"Keys only make sense in the context of the surrounding array."),(0,a.kt)("p",null,"Keys should be just inside of the loop not encapsulated inside a child component."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function FruitListItem(props) {\n  const fruit = props.fruit;\n  return <li key={fruit.id}>{fruit.name}</li>;\n}\n\nfunction FruitList(props) {\n  const fruitListItems = props.fruits.map((fruit) => (\n    <FruitListItem fruit={fruit} />\n  ));\n  return <ul>{fruitListItems}</ul>;\n}\n\nconst data = [\n  { id: 1, name: 'apple' },\n  { id: 2, name: 'orange' },\n  { id: 3, name: 'blueberry' },\n  { id: 4, name: 'banana' },\n  { id: 5, name: 'kiwi' },\n];\nReactDOM.createRoot(document.getElementById('root')).render(\n  <FruitList fruits={data} />\n);\n")),(0,a.kt)("p",null,"This example will still give the warning:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},' Warning: Each child in a list should have a unique "key" prop.\n')),(0,a.kt)("p",null,"To remove the warning you will need to add the key closer to the loop as we did previously."),(0,a.kt)("p",null,"The complete code example is shown again below."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function FruitListItem(props) {\n  return <li>{props.fruit.name}</li>;\n}\n\nfunction FruitList(props) {\n  const fruitListItems = props.fruits.map((fruit) => (\n    <FruitListItem key={fruit.id} fruit={fruit} />\n  ));\n  return <ul>{fruitListItems}</ul>;\n}\n\nconst data = [\n  { id: 1, name: 'apple' },\n  { id: 2, name: 'orange' },\n  { id: 3, name: 'blueberry' },\n  { id: 4, name: 'banana' },\n  { id: 5, name: 'kiwi' },\n];\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <FruitList fruits={data} />\n);\n")),(0,a.kt)("h2",{id:"map-in-jsx"},"map() in JSX"),(0,a.kt)("p",null,"When you are first learning to map an array into React elements or components assigning the resulting array into a variable as we have thus far can be easier to understand and read."),(0,a.kt)("p",null,"As you get more comfortable in JSX using map directly in the return statement in JSX as shown below can be useful."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function FruitListItem(props) {\n  return <li>{props.fruit.name}</li>;\n}\n\nfunction FruitList(props) {\n  return (\n    <ul>\n      {props.fruits.map((fruit) => (\n        <FruitListItem key={fruit.id} fruit={fruit} />\n      ))}\n    </ul>\n  );\n}\n\nconst data = [\n  { id: 1, name: 'apple' },\n  { id: 2, name: 'orange' },\n  { id: 3, name: 'blueberry' },\n  { id: 4, name: 'banana' },\n  { id: 5, name: 'kiwi' },\n];\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <FruitList fruits={data} />\n);\n")),(0,a.kt)("h2",{id:"reference"},"Reference"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://reactjs.org/docs/lists-and-keys.html"},"Lists & Keys")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/28329382/understanding-unique-keys-for-array-children-in-react-js"},"Understanding unique keys for array children in React.js"))))}m.isMDXComponent=!0}}]);