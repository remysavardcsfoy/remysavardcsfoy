"use strict";(self.webpackChunkreact=self.webpackChunkreact||[]).push([[3122],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>h});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),u=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=u(a),d=r,h=c["".concat(s,".").concat(d)]||c[d]||m[d]||l;return a?n.createElement(h,o(o({ref:t},p),{},{components:a})):n.createElement(h,o({ref:t},p))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[c]="string"==typeof e?e:r,o[1]=i;for(var u=2;u<l;u++)o[u]=a[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},4002:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>m,frontMatter:()=>l,metadata:()=>i,toc:()=>u});var n=a(7462),r=(a(7294),a(3905));const l={id:"A25-StateManagement",title:"State Management",sidebar_label:"State Management",slug:"/state-management"},o=void 0,i={unversionedId:"A25-StateManagement",id:"A25-StateManagement",title:"State Management",description:"Summary",source:"@site/docs/A25-StateManagement.md",sourceDirName:".",slug:"/state-management",permalink:"/docs/state-management",draft:!1,tags:[],version:"current",frontMatter:{id:"A25-StateManagement",title:"State Management",sidebar_label:"State Management",slug:"/state-management"}},s={},u=[{value:"Summary",id:"summary",level:2},{value:"Examples",id:"examples",level:2},{value:"Deciding How to Handle State",id:"deciding-how-to-handle-state",level:2},{value:"Reference",id:"reference",level:2}],p={toc:u},c="wrapper";function m(e){let{components:t,...a}=e;return(0,r.kt)(c,(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"summary"},"Summary"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The primary reason you need Redux is to help share data and functions between components in your application which are in different parts of the component tree and not immediate relatives"),(0,r.kt)("li",{parentName:"ul"},"The sharing between components is achieved by pulling data and functions out of the components and into a shared object (Store) that is not a component"),(0,r.kt)("li",{parentName:"ul"},"You may need Redux for other reasons"),(0,r.kt)("li",{parentName:"ul"},"These other reasons you need Redux are a lot less common than most people will lead you to believe."),(0,r.kt)("li",{parentName:"ul"},"Again, it is mostly needed to share data (state) and functions (dispatch actions) in an application. This problem is often described as:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Avoiding Prop Drilling"),(0,r.kt)("li",{parentName:"ul"},"Handling shared mutable state"),(0,r.kt)("li",{parentName:"ul"},"Component Communication"))),(0,r.kt)("li",{parentName:"ul"},"The shared object (Store) is made available to parts of the application by wrapping it in custom element or tag (React Component) called a provider (because it provides the data and functions)."),(0,r.kt)("li",{parentName:"ul"},"You can recreate the functionality of Redux using React Context"),(0,r.kt)("li",{parentName:"ul"},"React Context is designed for low frequency updates (Authenticated User, Theme, Locale (language))"),(0,r.kt)("li",{parentName:"ul"},"React Context is not designed for high frequency updates (keyboard input)"),(0,r.kt)("li",{parentName:"ul"},"React Context by default causes a rerender of all components on the page which use a given context"),(0,r.kt)("li",{parentName:"ul"},"The rerenders caused by React Context can be avoided by creating additional contexts (basically multiple stores)"),(0,r.kt)("li",{parentName:"ul"},"Redux is complex and requires a lot of ",(0,r.kt)("em",{parentName:"li"},"boilerplate")," code and subsequently can be difficult to understand"),(0,r.kt)("li",{parentName:"ul"},"React Context has an easier to understand API than Redux"),(0,r.kt)("li",{parentName:"ul"},"Using TypeScript with Redux provides strong typing advantages, but further increases the amount of ",(0,r.kt)("em",{parentName:"li"},"boilerplate")," code"),(0,r.kt)("li",{parentName:"ul"},"Using Redux Toolkit can significantly reduce the amount of ",(0,r.kt)("em",{parentName:"li"},"boilerplate")," code in Redux"),(0,r.kt)("li",{parentName:"ul"},"Implementing Redux functionality with React Context often often results in eventually recreating Redux"),(0,r.kt)("li",{parentName:"ul"},"Consider using libraries that focus on the specific kind of state that is most challenging, network state, such as React Query and SWR."),(0,r.kt)("li",{parentName:"ul"},"The React Query and SWR APIs ar similar to the popular Apollo Client library for GraphQL but work with REST APIs as well as GraphQL APIs"),(0,r.kt)("li",{parentName:"ul"},"Consider libraries which give you the basic functionality of Redux with a simpler API like ",(0,r.kt)("a",{parentName:"li",href:"https://recoiljs.org/"},"Recoil"),", ",(0,r.kt)("a",{parentName:"li",href:"https://zustand.surge.sh/"},"Zustand")," or ",(0,r.kt)("a",{parentName:"li",href:"https://easy-peasy.vercel.app/"},"Easy Peasy")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.npmtrends.com/easy-peasy-vs-react-query-vs-swr-vs-zustand-vs-recoil"},"npm Trends Chart comparing SWR, React Query, Recoil, Zustand, Easy Peasy"))),(0,r.kt)("h2",{id:"examples"},"Examples"),(0,r.kt)("p",null,"Good use cases for React Context include:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Signed In User and their permissions"),(0,r.kt)("li",{parentName:"ul"},"(Color) Theme of the application"),(0,r.kt)("li",{parentName:"ul"},"Language (locale) used in the application")),(0,r.kt)("p",null,"Good use cases for Redux include:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A count of something that displays in a header or sidebar (likes, upvotes, active projects, items in shopping cart, unread messages)",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Again, this often can be done by having a common parent component (in many cases the App component) but sometimes it might be too far removed from where you are updating this information"))),(0,r.kt)("li",{parentName:"ul"},"Collaborative software where multiple users can work on the same document at the same time (Google Docs, Google Sheets etc...)")),(0,r.kt)("h2",{id:"deciding-how-to-handle-state"},"Deciding How to Handle State"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"From Managing React State: Pluralsight Course by Cory House")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Does it belong in the URL? (current page, current record, sorting, scroll location...)",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Keep URL-related state in the URL."))),(0,r.kt)("li",{parentName:"ol"},"Want to persist data across sessions or make data available offline?",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Consider web storage (localStorage, IndexedDB, etc)"))),(0,r.kt)("li",{parentName:"ol"},"Is it server data?",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Try react-query or swr. Using GraphQL? Then also consider Relay / Apollo."))),(0,r.kt)("li",{parentName:"ol"},"Is it a DOM element reference, state that doesn\u2019t change, or not rendered at all?",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Use a ref."))),(0,r.kt)("li",{parentName:"ol"},"Can it be derived from existing props, state, URL, etc?",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Derive it \u201con-the-fly\u201d as part of each render (memoize if expensive)."))),(0,r.kt)("li",{parentName:"ol"},"Does only one component use the data?",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Use local state."))),(0,r.kt)("li",{parentName:"ol"},"Do a few related components use it?",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Store state in a common parent."))),(0,r.kt)("li",{parentName:"ol"},"Is it global state? Consider, in order:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Store in App\u2019s root component, context, or separate library like Redux.")))),(0,r.kt)("h2",{id:"reference"},"Reference"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://academind.com/learn/react/redux-vs-context-api/#will-react-s-context-api-replace-redux"},"Will React\u2019s Context API Replace Redux")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=OvM4hIxrqAw"},"Will React\u2019s Context API Replace Redux: Video")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/academind/react-redux-vs-context/tree/context"},"Will React\u2019s Context API Replace Redux: Code")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://reactjs.org/docs/context.html#caveats"},"React Context Caveats")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/leighhalliday/redux-context-reducers"},"Replacing Redux with React Hooks")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://blog.logrocket.com/use-hooks-and-context-not-react-and-redux/"},"Use Hooks + Context, not React + Redux")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/pkellner/pluralsight-course-using-react-hooks/tree/master/06-Context-with-Reducer-Redux-like"},"Context with Reducer (Redux Like): Code from Pluralsight Course")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://kentcdodds.com/blog/how-to-implement-usestate-with-usereducer"},"How to Implement useState with useReducer")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://swr.vercel.app/"},"SWR Documentation")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://react-query.tanstack.com/docs/overview"},"React Query Documentation")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/tannerlinsley/react-query-blog-refactor-example/commits/master"},"React Query Blog Refactor Example")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.pluralsight.com/courses/react-state-managing"},"Managing React State: Pluralsight Course by Cory House")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.apollographql.com/docs/react/data/queries/"},"Apollo: GraphQL"))))}m.isMDXComponent=!0}}]);